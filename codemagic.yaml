# Automatically generated on 2022-08-04 UTC from https://codemagic.io/app/62eb988df7dc917065a62c55/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  firebase:
    name: firebase
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmk2OWxmX2NkNnpxMEFFQ2JBZWZnNEFSUUY4NEdLZHZFLU82eU5Pb09RUk1fakU3WkRsMGIyNEpTZHhBNWJTSnV3M2psS3dwbDdQdkVlaFpxSS05Ty1Fa3N2MWl1WTRfemM2azN3bUFrTEN3dUN3Y1ZuYzZhcVdXSEY4OUxYaWp3UVRWZzZqTmROVEtHWTBhWUdreEhHclF5WXZLcVpfdFpHelVwYWF2OXluSzh2dGZiMm5iMkUwM1R0dXRyMDBKWnJ5NkJWb05UV01YOUt5NldVVkM2LWQ5VlFiOGQ2TnhMZFZpd2hnaGEzSXNBWWZuaUQ2eS1jYmNzaWEzY0RrR1JGT1pJZmJXTkxxRXVlQ3lSd2FUb19nNWN1TnA4U1BzSDVHS0p3R3ZtdlBNRk1tMmRra1o4ZXVKNmRldF9FYl9iWmhRbEwwckE2UVRrWFBtSFhXeGdwV1FWclp2TmxQZWwtdFkxUDU1NUU5c1VzTVNTeEpfME5kWm12eWlXRHdPVXRYbW9uN3NBbWgyWElNYnRUVS1fa3NVYlI1aTVaY2xabzhJT3NUNFFFZ3ZRdXNfZmtJci1ScW1DeXh1amVCTERiYTg1QmIySzlvU0ZZaUoyOXRsMUV5LXBuMGxVYTRGZmtDcXNfUTVfbHRGYUdpZHJXWDBSNnNSc1c1bFVNNWZqNGJsYU5hb1dHSi1ybnRoWFlYRGdHWnpNbnoxa1BhbVRXcG5WRkd2TFFsZDZaUHVkVTBaNnRfbTYwZl92enhiSllQejhzcUQ4ZnE2Mm5rTkNDRFc1TlZQTlJLZjF0LW82Qlc5alhHNjhzSnRWX3NUX1NqSjV6T0czWUVsWjNiNFBZTjJ2ckhVcjk3ZGFDSmE1cmJMa0hkSTM5ZUtxR2pwcExFUGYxNktQM3NSeDZNX2p6cEdCWUI2V1Q1VndsZmYtSHp1SndqcVdxT3A5aHV2V2ZfeUhEci1EdDh5MFd5bTRFU0tRbUpWOElzWUhSWVhEZWlmaThWdE9ZNXBQOTljU1JKVFNsRXR3NVBCV1hRUUdTenl3YW9sMzU0VGU2WlEyc28zRVBHLTdCVTlDcWRXa1QwYTFyYXgyS0FrZlFNT0g3RW9nWkxBOVJ2b201MmZleVdxX0xlWl9TNlhnbEJVejZuMEJydG11WmE1TEYtejNfNU1VdnNwVlYtSU9OOS1kWEFaVnhEQXRsZlRFeUVvSmNVa3lPVjhuajZhVThSUjFuMVlFSmNDZjNpcC1Ud2dHZFdfUXJrd1dvaldWcWM3VXdKTVFnUHotTXlIVFB0TVRqRGFYclQxNUgyNkluWWtNbTc4ekJBWmc4X2c4MmJsblQ1OEthUUhQSlNCd1lubUlONHNQdlBpUmV1b1EwbExIQ1N4cmJZeVBwT1ZyV0tsNEpEbHJGVXpadjBjWU5SRllDeHRwMWdoUXExajlPeWVMTlNQcWExUUlKZWxEZ2dxTkdLZnBfdUF5eHU4SEREOGNudEdmeGpFQU1zeDVVUWdFRmg3NGd5d1hfLWtiWHVvVGU0OVZOTGlBYkVSSlk2ek1VXzZTUEJIY3NKSnJTY1puQk9USGVaNktNXzZWV0c2VWhTeFdWZjlaemtJeGxxNWZJVjRzWDZSajlFOVVwb0ozSno0T1lfR09jTGZaMkZHSWgyX0xkeVNkZ0dRcGk0SktobXUzcExBV0xWcjBObHVjZHlqUE5oYjlDNUpvRF94b3FtZjJxTUdmazdiRHdHLVlYUlJUcGdRR3dyYVBFdW5SZkJHM0ZBOVFaWFh3X3I1MzFqMUpXZmh3aGg2empGc01mcW8ySi1MVGEteERpR1Y2NXlkMFlXUUJjVkR1SzZET3N0VGlXVWFHc05QaTItMXpmWlo2UGVnRUNJUGNyT0FOMFlCRWwxWmNsVWRnUnRmS3BESURwS1VOT0U3ZDIzUW81N0NQUkhreUpTRXl0cnhYbmVpb191VGp0bmx3b0lWamoxa09tcFQxSWRUSWw1ZHl5aVhYcUpiMk1XYnpxeHB5NWcwSFJ2WlkyT1htV25fUGV5YnJwbFpjLVhtTGlNM2dqaUczVmNoZS0yVXFjTElaU3FVXzlLcDd2S0F6ZUs1TXBGQmpjeW5kQzR4VUtvdkFDd2JKOTZZZEt5dDlWT2wzS1FXSXhVVkx6d2E1ZldLdzR6M2pSTVRfeGstTjd1djBYaXI2YWVHdlk5QmxSMlB4NXlVS09oWVQ2WUxzbzZBWXBZRzdJNjkweEVmRXJrUnBfaWI1c0wtbEpVWldzVVJlOU9fTjd2MW5IRURXa3gyNDd4UFJDTUtzaEdYVUlkTXZzbkRKVEZpMnhPeVFmT3gtdVF3OV9JR0JtY0k5LVNVOUpuaWQ1ZTNjUTF6N0NTOWJ1aVA2SlVKbWM0emwtMnVxMWdiVjNLLWpIYURVeDcwcEtzOTlzZXEwVmxVVUY1blZuVTJjQUM1MDh0d1Y3VWxsRm1lXy1rU0lrRW83ZmVtUU5VbWk0d3RzcDZ2VEhLWU9ZMTlERlByTjBTTG9uZWdqdUVzRTVaOTJVd2JhVndYNUxUczY0dmJsN0I0SExYUDdMX1dJSFFsR0RtTGtXZlFydE1Nb1ZHdE80aEJBbHVWTDl3ZXZEUFBsMGxlY0l5dkNJM2hOSnNMNzR1MU5oSVdGbVVNTWVkSUp2bEZFTzJNTXR3SGg0Z0RHN2RWVzE5Sm9ZYnR6Yzk4VlQ0cTczeXBueUt1b1NBbVJDbVg1QWY4bkZoTGJqNmpQcmhVbG9FOFltczI3U19rdDBfTVdPWFE5MVRPRERIVmdkald0TEFTNTlhcm9McS1RanN2QUpTMXA5ak8ya0g1Q0dMT0NvMmpQN0d6Vk53NGlMVkFrTW5KdGVrenpPb0JUZC13aDNuaEJnYktvdHU1ZDk0NlVDOXltYjZVOXplaEZHZlZZVTFWN0c2Unh2OC1jdnBacmNwZWhqQVJKMFlqMHhuVDY1R2IyUzR5WHV0bUdjWExlSi04SDEwdjhHS0xrZXdpTUdyOTNaTUZScDh6dFd6dDhWcG1FSEszVnNYTTdObUgxNEdfU2NXYzNvOTFzVC1UeXdDS3dKV2VMYy1KY3FMdVhGY05Ray1rOG5PMVRvOVZhaUtiV0hOZ09TdVhDQXhnLVlodWJQSFpBaWlmcnhsam5mZElLMkVIN05TdGR0QzZPMm96Slo3VzNxa052QTU4QnVMTFZnX3c4VEVrQ3k1Q0pNa3JoQ2tST1FYdmFwdV94cGlieThaWjNRNS1JS3VVUDNEM2cwNTl4YmZUajAzOFpyb0tOUUw2M1g1VmI0bEZnY3ZPb1haaEpVejNmNExpcjZRaG1pWkpXUHpiaENJMjV0anQ1a1FEb2Q1ZjYtZWVMd1hyZXBtRU9URXgxNmNLNkUyUmVydnY5UXowU2ExR1FBbWg3QUI2RS1Sb0pTTmd3MzN5b1FwNjZxa2xuanY3bGFBZ1Itbjh6bmRSRVdjdnpDUFlFU3lVWjZ0eXd5YVpBSmRIYmY1VWtUMzlXekpCSTZVcEdib05TX1o3UEdFa08xOWxOTUxkRDY5M3F6NTZOQVcyTU9HV3J2TWtSZENUSXpIWlowMWJIRWVZUEtsVGtrbWNxRG5HMVRtR2NEN1UtZmZMczdCa0JHOGh0c0o3VmlCTlpic3haR0NUZjhpQjQxTGFqYTVtVHRrZHNKTHNmR1BtUWZTaUplc29xMlNZdGZiSTFBZUt1bXAta3B6dTE1Z2U4TGNtZW91UU5mT0h5WFpXWFZrZDRIckVtdXBJWHZaVVJFZFJsWmZkd2VKay01ZnZzVkRBeXQ2Ry1qRnB0R01jQ09JN29GZ2J6bDdPQUl5VUFzeHlfQk1zUUY0RU80RFRUSUY4X2lxbloxZjN3S0xQZUw1RDlCVVlHMTNfc285UUtNd2RiR296cGFGWkVKQXVPcm1HbFI5VmRKanZWWHNfM3ZKdy03bWx6TGl2b3BKVzJfekhlZUN4RVN6TlVOSFpLa3dJejF2YjhOZWRQc2VJSHNudVNUQTlWcHRXd1BvUmJqdDQ1bXRSZ1JIcURBcWQ2SXhpcVJUZGFlNmpoUmFiQkRyQU96QjE3eWFkM1c2MEVRWF94Wi05MVphdWl1ZkdCUnBQQkgtSlNNZkJURTYtb1htMVF5NDc4elFfaEhuVEljLXZFRUJDb1l0ekFCRUQ5UTJSbkR0UFBpMkp4WFg0SUN6UVNGRGMxZlQ3c2lkUzFyQl9TU0N4YXNhalBMQnpfbmlucGFieThYdVp1T0xnWEtxTG0xOHdGQThTWU93cmhBZ3hOZjN6a0hVZTFOcG1Fd1BXSjRaZVBEZUFFTjczV3BwM0xNUDcyRmJmcnBQM2hOaWFIX2NDRzBPR1RMNGdwQ1lOUzJWclBnTGprX19wV21YU2JFemVlX2NJLVVDYWJmUFJXeUNwUFdXc2Y2dlkzY0VpYWp3aFJ6V0R2UVUzQ3cxVF9kNTd1bDBmN3AzaHBMTi1SR0hNR3VNOTYyQ3lhZGJXRzZEWS1FTHJBQ3o0THl2R0paUURPR29CdldsQXlXYkpEZ3poYW5aQTl2VEJEcUphdkMxcGQzX2FBOXhiM3VUY191eTVfejFrZ2hlV19DU2FhcTQ4OE5RZ2V6cThDcnBlUkhrTnJBN3FZWnBOSVRheTl5T3o1cWl2T1pKVUNfMzV5OVdBVXRmTUhjNUdpWGRNOGk0YTVDVnJ1QmxhWlFDc01OT1JPbVJ6YzFaRDdjSUdmN1JhdFFzZmlRQ0lNc3BhMTBIWlNTVmdNSm85ZWlLRklmZE4wbW9EbnVsNHFzbFBQaVhOQ0d1UDhpNTRXUmtPaGRXQ21LVHQ1UHh0OHdwVXpqVWc5cW5MVVhMcXpNMEs0eFg1WHNYV3YwY0FQeWRBOFlqREtwak9ONC1CZVQzQV9CeV9IUlJZMElkcHo5ZUdXbl8zM2t1RmhvY0d2UkxWUVJWWkVReW1Sb1o1MUNMRng4RjAwcUlyYVc0Y3RoOXltTmM2eFAyZ01UVFpTQkJ5TnNLOVhnRk9vQ1JrajF4Z3B2bEk4eTRIY21ub0VJZ3h4ME9YTlMxS0hTTTVVRGJnc1NleUlLX1lfTWkxd0JSbDlTTWZCNWtZaWc3b0EwVDRMc1VTc3pPenh5YXpHX2tOaVpvaXdnXzlKUjdGbmpaSXZ5eW51cEJUeEIycFo3MUN3VXZkRTBLVWNVWVI5SEJ5bndIQ0JJdFphWV9JOEc0cWNJNC1sazZjdkM1VTRKcVo1QjhvV0pQamlWbWM1Yk5wM1N2aUxPMTQ2MHR2VEpRRzR2MmVqeVRDVFpST2JMYkMxci0wX0Z1azdSQ25TTVZJbUl0S0RVS0xvcllMSWlnMmlBWVB0NW9BelJiSFF2OHdMeGNXdXcxODFQOWFEQ0F6SW9Uek9KWFRCWHVGMGgwOG1uWTJwejByVFJPWnVsaHpkaFplNEREaVFuV0FmRk92cmFlVlVxUUdvQWRuYTlfUm9kaWJGTDREQzJwcnZGSHFZdncxSTZCSUVGcHFaMTh5RmY0LVllTW9hTm8yUlUwWUJEUFFSTXJKb1lhUlQxQkNOVnY3b1dPWFF0WTRmZ2VUSjlhdHdvQWFIX29rMkJFWXpaVEltb1NpbW1BdjBYOXl1bk1ONl81N0FEYnFSSVJYSHQxT0dUUExXVmoxTWIwV0lQaVpLVzh5bDFUeHZGVzh2ZGtickNqbXI4d1VReDUzM1piRHdlbEtWVEJFbXlLOTdIZHJoN2VNS0ZKX1VacXg2eC1iSTdiMGxWZUpLZkVSejRLM3BwLXhCeU5zX3NJVTVybjRndG5md0t2VVVUaVlpV2lxc2xTNVo3NUcyS1JRVklwMDJHMm9Ibk15MmVBS3ZlYjdQeHRwSnhqNVVZNl9CcGgtaGQxZGQ0YUJBdjR6ZlljTW1YUjZxUkFvQzhrdlhXXzdqaFByOXBnMUpBcWtnRkxKNm44WU8yNFdnTFFuakFfMnZzY0g1SlJXMml5UGhvZUlFOEpqUmtzY2xXeXBTZkdGeDRTTHNMTGZfQkNGWjBJeGp1ZllndHdoTXNpT3plTEhYX3dmYXpZMHEzWXpmVHhIOGNlUzZVdUxJQ3pva1RLLXJla2JGakFJd0FQTV9PUmU1b3hWU181dVZadXprcXhKNnd4T3RCT293djgwaDF6dnF2QnhGTmtnbWtfOVl6dTFiallyT2NUQXZTZ29BMkRmQ1NSSnBubnl1LTN5U09ZaTBEb1NVT0U1NHJ1MTlUZkFVR0dVRmVoOGM9)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmk2OWxmUkF6ZlZyQTY5SzJ3RlROS3laMGhCRUJ0VTBfTTFYeXVjbWJYYzg0bzU5VlpNellNNU9oRHBXVVZMQXVhbzQtaDk4c3lmUi1vZ1V3MFhTdVVLWmtKQnc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmk2OWxmSWxJUlphRVU4SnlYNkVlMU04U2lFNjl2VUdCd0VYa1pXVlotUjF1ZUJHMlAzSEh1U1BEdHpPczVIVUpsQTJJaDNVMG5GTURvbkI0VVVFa2V1akJfeUE9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmk2OWxmelJlQ3F3Z2phZmtaQUJEdnFkMnRVbHdUWWxQTXFyMVhzZGloaEgydlVNSVlxa254aUpDY1B2WXVJcUpaYzhGQVZGNElFVTBLQzJuQkFIRHlCUFA3ZUE9PQ==)
      flutter: default
      xcode: latest
      cocoapods: default
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build appbundle --debug
      - |
        # generate signed universal apk with user specified keys
        android-app-bundle build-universal-apk \
          --bundle build/**/outputs/**/*.aab \
          --ks /tmp/keystore.keystore \
          --ks-pass $FCI_KEYSTORE_PASSWORD \
          --ks-key-alias $FCI_KEY_ALIAS \
          --key-pass $FCI_KEY_PASSWORD
      - find . -name "Podfile" -execdir pod install \;
      - flutter build ios --debug --no-codesign
      - flutter build ipa --debug --export-options-plist
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - manohar.nettem@gmail.com
      firebase:
        firebase_token: Encrypted(Z0FBQUFBQmk2OWxmYVhHV0N6WWY1U1JxcWlwX2YtU3pJSm42Wk5lejMxRndTTm84YWt2bnQ5NTlTcGpvdzlobmdIWnRwSTRnMWNQTXVvdTNLRTliZm5uUzhvNU5hejNNUGhrSkZOakhkTlU1Q3c3VHJ1VllkX0hxQlhueEwyaEpMWlctRWc0c21GWGQ1Q3pPeDVDMzlMVWlQRmp5VXRxTUthNUlwTzkxTjNCVF96SUJNQzR4NWVQUzdIY0lnUDlZVHpLblF4Um1FU1RyS25BX1NYMmFKaGNXcGR0Ym9temppQT09)
        ios:
          app_id: 1:546402731135:ios:0a59e25b16c26bf802ab4a
          groups:
            - test
        android:
          app_id: 1:546402731135:android:339b5ce7773d3f2302ab4a
          groups:
            - test
